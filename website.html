<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>O Store - Produits Oriflame Premium</title>
    <meta name="description" content="D√©couvrez notre collection exclusive de produits Oriflame - parfums, maquillage et soins de beaut√© de qualit√© premium.">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Poppins', sans-serif; }
        .hero-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .product-card { transition: all 0.3s ease; }
        .product-card:hover { transform: translateY(-5px); }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Navigation -->
    <nav class="bg-white shadow-lg fixed w-full top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <h1 class="text-2xl font-bold text-green-600">üõçÔ∏è O Store</h1>
                </div>
                <div class="hidden md:flex items-center space-x-6">
                    <a href="#accueil" class="text-gray-700 hover:text-green-600 transition-colors">Accueil</a>
                    <a href="#produits" class="text-gray-700 hover:text-green-600 transition-colors">Produits</a>
                    <a href="#contact" class="text-gray-700 hover:text-green-600 transition-colors">Contact</a>
                    <button id="cart-btn" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors">
                        <i class="fas fa-shopping-cart mr-2"></i>Panier (<span id="cart-count">0</span>)
                    </button>
                </div>
                <button id="mobile-menu-btn" class="md:hidden text-gray-700">
                    <i class="fas fa-bars text-xl"></i>
                </button>
            </div>
        </div>
        
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="md:hidden bg-white border-t hidden">
            <div class="px-4 py-3 space-y-3">
                <a href="#accueil" class="block text-gray-700 hover:text-green-600">Accueil</a>
                <a href="#produits" class="block text-gray-700 hover:text-green-600">Produits</a>
                <a href="#contact" class="block text-gray-700 hover:text-green-600">Contact</a>
                <button id="mobile-cart-btn" class="w-full bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700">
                    <i class="fas fa-shopping-cart mr-2"></i>Panier (<span id="mobile-cart-count">0</span>)
                </button>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="accueil" class="hero-bg text-white pt-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20">
            <div class="text-center">
                <h1 class="text-4xl md:text-6xl font-bold mb-6">
                    Beaut√© Premium<br>
                    <span class="text-yellow-300">Oriflame</span>
                </h1>
                <p class="text-xl md:text-2xl mb-8 max-w-3xl mx-auto">
                    D√©couvrez notre collection exclusive de produits Oriflame. 
                    Des parfums envo√ªtants aux soins de beaut√© premium.
                </p>
                <a href="#produits" class="bg-yellow-400 text-gray-900 px-8 py-4 rounded-full font-semibold text-lg hover:bg-yellow-300 transition-colors">
                    Voir nos Produits
                </a>
            </div>
        </div>
    </section>

    <!-- Products Section -->
    <section id="produits" class="py-20 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold text-gray-800 mb-4">Nos Produits</h2>
                <p class="text-xl text-gray-600 max-w-3xl mx-auto">
                    Collection soigneusement s√©lectionn√©e de produits Oriflame pour votre beaut√© et bien-√™tre.
                </p>
            </div>

            <!-- Category Filter -->
            <div class="flex flex-wrap justify-center gap-3 mb-8">
                <button onclick="filterProducts('all')" class="filter-btn active bg-green-600 text-white px-6 py-2 rounded-full hover:bg-green-700 transition-colors">
                    Tous
                </button>
                <button onclick="filterProducts('Parfum')" class="filter-btn bg-gray-200 text-gray-700 px-6 py-2 rounded-full hover:bg-gray-300 transition-colors">
                    Parfums
                </button>
                <button onclick="filterProducts('Maquillage')" class="filter-btn bg-gray-200 text-gray-700 px-6 py-2 rounded-full hover:bg-gray-300 transition-colors">
                    Maquillage
                </button>
                <button onclick="filterProducts('Soins')" class="filter-btn bg-gray-200 text-gray-700 px-6 py-2 rounded-full hover:bg-gray-300 transition-colors">
                    Soins
                </button>
            </div>

            <!-- Loading State -->
            <div id="products-loading" class="text-center py-12">
                <i class="fas fa-spinner fa-spin text-4xl text-green-600 mb-4"></i>
                <p class="text-gray-600">Chargement des produits depuis la base de donn√©es...</p>
            </div>

            <!-- Products Grid -->
            <div id="products-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 hidden">
                <!-- Products will be loaded here -->
            </div>

            <!-- No Products State -->
            <div id="no-products" class="text-center py-12 hidden">
                <i class="fas fa-box-open text-6xl text-gray-400 mb-4"></i>
                <h3 class="text-xl font-semibold text-gray-600 mb-2">Aucun produit trouv√©</h3>
                <p class="text-gray-500">V√©rifiez votre connexion ou contactez l'administrateur</p>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="py-20 bg-gray-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold text-gray-800 mb-4">Contactez-nous</h2>
                <p class="text-xl text-gray-600">Une question ? Nous sommes l√† pour vous aider</p>
            </div>
            
            <div class="max-w-2xl mx-auto text-center">
                <div class="bg-white rounded-lg shadow-lg p-8">
                    <div class="mb-6">
                        <i class="fas fa-envelope text-4xl text-green-600 mb-4"></i>
                        <h3 class="text-xl font-semibold mb-2">Email</h3>
                        <a href="mailto:abderrahmanelfajri@gmail.com" class="text-green-600 hover:text-green-700">
                            abderrahmanelfajri@gmail.com
                        </a>
                    </div>
                    
                    <div class="mb-6">
                        <i class="fas fa-phone text-4xl text-green-600 mb-4"></i>
                        <h3 class="text-xl font-semibold mb-2">T√©l√©phone</h3>
                        <p class="text-gray-600">Disponible du Lundi au Vendredi</p>
                    </div>
                    
                    <div>
                        <i class="fas fa-clock text-4xl text-green-600 mb-4"></i>
                        <h3 class="text-xl font-semibold mb-2">Heures d'ouverture</h3>
                        <p class="text-gray-600">9h00 - 18h00</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">
                <h3 class="text-2xl font-bold text-green-400 mb-4">üõçÔ∏è O Store</h3>
                <p class="text-gray-400 mb-4">
                    Votre destination pour les produits Oriflame de qualit√© premium.
                </p>
                <p class="text-sm text-gray-500">
                    ¬© 2025 O Store. Tous droits r√©serv√©s.
                </p>
            </div>
        </div>
    </footer>

    <!-- Cart Modal -->
    <div id="cart-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-96 overflow-hidden">
                <div class="px-6 py-4 border-b border-gray-200 flex justify-between items-center">
                    <h3 class="text-xl font-semibold">üõí Votre Panier</h3>
                    <button onclick="closeCart()" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                
                <div id="cart-items" class="p-6 max-h-64 overflow-y-auto">
                    <!-- Cart items will be displayed here -->
                </div>
                
                <div class="px-6 py-4 border-t border-gray-200 bg-gray-50">
                    <div class="flex justify-between items-center mb-4">
                        <span class="text-lg font-semibold">Total:</span>
                        <span id="cart-total" class="text-xl font-bold text-green-600">0 DA</span>
                    </div>
                    <button onclick="checkout()" class="w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition-colors font-semibold">
                        <i class="fas fa-credit-card mr-2"></i>Passer la Commande
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Order Modal -->
    <div id="order-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg shadow-xl max-w-md w-full">
                <div class="px-6 py-4 border-b border-gray-200">
                    <h3 class="text-xl font-semibold">üìã Informations de Commande</h3>
                </div>
                
                <form id="order-form" class="p-6">
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Nom complet *</label>
                            <input type="text" id="customer-name" required class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">T√©l√©phone *</label>
                            <input type="tel" id="customer-phone" required class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                            <input type="email" id="customer-email" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Adresse de livraison *</label>
                            <textarea id="customer-address" required rows="3" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500"></textarea>
                        </div>
                    </div>
                    
                    <div class="mt-6 flex space-x-3">
                        <button type="button" onclick="closeOrderForm()" class="flex-1 bg-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-400 transition-colors">
                            Annuler
                        </button>
                        <button type="submit" class="flex-1 bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors">
                            <i class="fas fa-paper-plane mr-2"></i>Confirmer
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="api-manager.js"></script>
    <script>
        // Configuration
        const CONFIG = {
            SPREADSHEET_ID: '1LlYjTmwoqZCqkyOuXHpgy5PHKMFAoqcQXBqvt3qyxE8',
            SHEETS_API_KEY: 'AIzaSyCzJE3U_XZhjVPukHjbVYmikwptj0sqY4k',
            PRODUCTS_SHEET: 'SHEETS_PRODUCTS',
            ORDERS_SHEET: 'SHEETS_ORDERS',
            GOOGLE_APPS_SCRIPT_URL: 'https://script.google.com/macros/s/AKfycbxeIRYYO00PSS-R1yHv_qNbnZwCTt0SzOvutKRVGQfKlk2VsmAKHR4VYhBdci8k4SXIEA/exec',
            ADMIN_EMAIL: 'abderrahmanelfajri@gmail.com'
        };

        // Global variables
        let products = [];
        let filteredProducts = [];
        let cart = JSON.parse(localStorage.getItem('ostore-cart') || '[]');
        let apiManager;

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üõçÔ∏è O Store Website Loading...');
            
            // Initialize API Manager
            if (typeof OStoreAPIManager !== 'undefined') {
                apiManager = new OStoreAPIManager();
                console.log('‚úÖ API Manager initialized');
            }
            
            setupNavigation();
            setupMobileMenu();
            loadProducts();
            updateCartDisplay();
            setupEventListeners();
        });

        // Setup navigation
        function setupNavigation() {
            const navLinks = document.querySelectorAll('a[href^="#"]');
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href').substring(1);
                    const targetSection = document.getElementById(targetId);
                    
                    if (targetSection) {
                        const headerHeight = 80;
                        const targetPosition = targetSection.offsetTop - headerHeight;
                        
                        window.scrollTo({
                            top: targetPosition,
                            behavior: 'smooth'
                        });
                    }
                });
            });
        }

        // Setup mobile menu
        function setupMobileMenu() {
            const mobileMenuBtn = document.getElementById('mobile-menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');
            
            mobileMenuBtn.addEventListener('click', function() {
                mobileMenu.classList.toggle('hidden');
            });
        }

        // Setup event listeners
        function setupEventListeners() {
            document.getElementById('cart-btn').addEventListener('click', showCart);
            document.getElementById('mobile-cart-btn').addEventListener('click', showCart);
            document.getElementById('order-form').addEventListener('submit', submitOrder);
        }

        // Load products from database
        async function loadProducts() {
            try {
                showProductsLoading();
                console.log('üîÑ Loading products from database...');
                
                if (apiManager) {
                    const result = await apiManager.getProducts();
                    
                    if (result.success && result.products && result.products.length > 0) {
                        products = result.products;
                        filteredProducts = [...products];
                        displayProducts(filteredProducts);
                        console.log(`‚úÖ Loaded ${products.length} products from database`);
                        return;
                    }
                }
                
                // Fallback: Try direct API call
                await loadProductsDirectly();
                
            } catch (error) {
                console.error('‚ùå Error loading products:', error);
                showNoProducts();
            }
        }

        // Load products directly from Google Sheets
        async function loadProductsDirectly() {
            try {
                const url = `https://sheets.googleapis.com/v4/spreadsheets/${CONFIG.SPREADSHEET_ID}/values/${CONFIG.PRODUCTS_SHEET}!A:G?key=${CONFIG.SHEETS_API_KEY}`;
                
                const response = await fetch(url);
                const data = await response.json();
                
                if (data.values && data.values.length > 1) {
                    products = parseProducts(data.values);
                    filteredProducts = [...products];
                    
                    if (products.length > 0) {
                        displayProducts(filteredProducts);
                        console.log(`‚úÖ Loaded ${products.length} products directly from database`);
                    } else {
                        showNoProducts();
                    }
                } else {
                    showNoProducts();
                }
            } catch (error) {
                console.error('‚ùå Direct API error:', error);
                showNoProducts();
            }
        }

        // Parse products from Google Sheets data
        function parseProducts(values) {
            const products = [];
            
            // Skip header row, start from row 1
            for (let i = 1; i < values.length; i++) {
                const row = values[i];
                if (!row || row.length === 0 || !row[1]) continue;
                
                // A: ID, B: Name, C: Price, D: Category, E: Image_URL, F: Description, G: Created
                const product = {
                    id: row[0] || i,
                    name: row[1] || '',
                    price: row[2] || '',
                    category: row[3] || 'G√©n√©ral',
                    image: row[4] || 'https://images.unsplash.com/photo-1586495777744-4413f21062fa?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80',
                    description: row[5] || 'Description non disponible',
                    created: row[6] || new Date().toISOString()
                };
                
                if (product.name && product.name.trim() !== '') {
                    products.push(product);
                }
            }
            
            return products;
        }

        // Display products
        function displayProducts(productsToShow) {
            const grid = document.getElementById('products-grid');
            const loading = document.getElementById('products-loading');
            const noProducts = document.getElementById('no-products');
            
            loading.classList.add('hidden');
            noProducts.classList.add('hidden');
            grid.classList.remove('hidden');
            
            if (productsToShow.length === 0) {
                grid.classList.add('hidden');
                noProducts.classList.remove('hidden');
                return;
            }
            
            grid.innerHTML = productsToShow.map(product => `
                <div class="product-card bg-white rounded-lg shadow-lg overflow-hidden">
                    <div class="relative">
                        <img src="${product.image}" alt="${product.name}" 
                             class="w-full h-64 object-cover"
                             onerror="this.src='https://images.unsplash.com/photo-1586495777744-4413f21062fa?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80'">
                        <div class="absolute top-3 right-3">
                            <span class="bg-green-600 text-white px-2 py-1 rounded-full text-xs font-semibold">
                                ${product.category}
                            </span>
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-semibold text-gray-800 mb-2">${product.name}</h3>
                        <p class="text-gray-600 text-sm mb-4 line-clamp-2">${product.description}</p>
                        <div class="flex justify-between items-center">
                            <span class="text-2xl font-bold text-green-600">${product.price}</span>
                            <button onclick="addToCart(${JSON.stringify(product).replace(/"/g, '&quot;')})" 
                                    class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors">
                                <i class="fas fa-cart-plus mr-2"></i>Ajouter
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Filter products
        function filterProducts(category) {
            // Update filter buttons
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active', 'bg-green-600', 'text-white');
                btn.classList.add('bg-gray-200', 'text-gray-700');
            });
            
            event.target.classList.add('active', 'bg-green-600', 'text-white');
            event.target.classList.remove('bg-gray-200', 'text-gray-700');
            
            // Filter products
            if (category === 'all') {
                filteredProducts = [...products];
            } else {
                filteredProducts = products.filter(product => product.category === category);
            }
            
            displayProducts(filteredProducts);
        }

        // Add to cart
        function addToCart(product) {
            const existingItem = cart.find(item => item.id === product.id);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    ...product,
                    quantity: 1
                });
            }
            
            localStorage.setItem('ostore-cart', JSON.stringify(cart));
            updateCartDisplay();
            
            // Show success message
            showNotification(`‚úÖ ${product.name} ajout√© au panier!`, 'success');
        }

        // Update cart display
        function updateCartDisplay() {
            const cartCount = cart.reduce((total, item) => total + item.quantity, 0);
            document.getElementById('cart-count').textContent = cartCount;
            document.getElementById('mobile-cart-count').textContent = cartCount;
        }

        // Show cart
        function showCart() {
            const modal = document.getElementById('cart-modal');
            const cartItems = document.getElementById('cart-items');
            const cartTotal = document.getElementById('cart-total');
            
            if (cart.length === 0) {
                cartItems.innerHTML = `
                    <div class="text-center py-8 text-gray-500">
                        <i class="fas fa-shopping-cart text-4xl mb-3"></i>
                        <p>Votre panier est vide</p>
                    </div>
                `;
                cartTotal.textContent = '0 DA';
            } else {
                cartItems.innerHTML = cart.map(item => `
                    <div class="flex items-center justify-between py-3 border-b border-gray-200">
                        <div class="flex items-center">
                            <img src="${item.image}" alt="${item.name}" class="w-12 h-12 object-cover rounded">
                            <div class="ml-3">
                                <h4 class="font-semibold text-sm">${item.name}</h4>
                                <p class="text-gray-600 text-xs">${item.price}</p>
                            </div>
                        </div>
                        <div class="flex items-center">
                            <button onclick="updateCartQuantity('${item.id}', -1)" class="text-gray-500 hover:text-red-600">
                                <i class="fas fa-minus"></i>
                            </button>
                            <span class="mx-3 font-semibold">${item.quantity}</span>
                            <button onclick="updateCartQuantity('${item.id}', 1)" class="text-gray-500 hover:text-green-600">
                                <i class="fas fa-plus"></i>
                            </button>
                            <button onclick="removeFromCart('${item.id}')" class="ml-3 text-red-500 hover:text-red-700">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                `).join('');
                
                const total = cart.reduce((sum, item) => {
                    const price = parseInt(item.price.replace(/[^\d]/g, '')) || 0;
                    return sum + (price * item.quantity);
                }, 0);
                
                cartTotal.textContent = `${total} DA`;
            }
            
            modal.classList.remove('hidden');
        }

        // Close cart
        function closeCart() {
            document.getElementById('cart-modal').classList.add('hidden');
        }

        // Update cart quantity
        function updateCartQuantity(productId, change) {
            const item = cart.find(item => item.id == productId);
            if (item) {
                item.quantity += change;
                if (item.quantity <= 0) {
                    removeFromCart(productId);
                    return;
                }
                localStorage.setItem('ostore-cart', JSON.stringify(cart));
                updateCartDisplay();
                showCart(); // Refresh cart display
            }
        }

        // Remove from cart
        function removeFromCart(productId) {
            cart = cart.filter(item => item.id != productId);
            localStorage.setItem('ostore-cart', JSON.stringify(cart));
            updateCartDisplay();
            showCart(); // Refresh cart display
        }

        // Checkout
        function checkout() {
            if (cart.length === 0) {
                showNotification('‚ùå Votre panier est vide', 'error');
                return;
            }
            
            closeCart();
            document.getElementById('order-modal').classList.remove('hidden');
        }

        // Close order form
        function closeOrderForm() {
            document.getElementById('order-modal').classList.add('hidden');
        }

        // Submit order
        async function submitOrder(e) {
            e.preventDefault();
            
            try {
                const submitBtn = e.target.querySelector('button[type="submit"]');
                const originalText = submitBtn.innerHTML;
                submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>Envoi...';
                submitBtn.disabled = true;
                
                // Get customer info
                const customerInfo = {
                    name: document.getElementById('customer-name').value.trim(),
                    phone: document.getElementById('customer-phone').value.trim(),
                    email: document.getElementById('customer-email').value.trim(),
                    address: document.getElementById('customer-address').value.trim()
                };
                
                // Calculate total
                const total = cart.reduce((sum, item) => {
                    const price = parseInt(item.price.replace(/[^\d]/g, '')) || 0;
                    return sum + (price * item.quantity);
                }, 0);
                
                // Prepare order data
                const orderData = {
                    action: 'addOrder',
                    order: {
                        id: Date.now(),
                        customerName: customerInfo.name,
                        customerPhone: customerInfo.phone,
                        customerEmail: customerInfo.email,
                        customerAddress: customerInfo.address,
                        products: cart,
                        total: `${total} DA`,
                        status: 'Nouveau',
                        date: new Date().toLocaleString('fr-FR'),
                        adminEmail: CONFIG.ADMIN_EMAIL
                    },
                    timestamp: new Date().toISOString()
                };
                
                // Send order to Google Sheets
                const response = await fetch(CONFIG.GOOGLE_APPS_SCRIPT_URL, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(orderData)
                });
                
                if (!response.ok) {
                    throw new Error('Erreur de connexion au serveur');
                }
                
                const result = await response.json();
                console.log('‚úÖ Order submitted:', result);
                
                // Clear cart and close modals
                cart = [];
                localStorage.setItem('ostore-cart', JSON.stringify(cart));
                updateCartDisplay();
                closeOrderForm();
                
                // Reset form
                e.target.reset();
                
                // Show success message
                showNotification(`‚úÖ Commande envoy√©e avec succ√®s! Nous vous contacterons bient√¥t.`, 'success');
                
            } catch (error) {
                console.error('‚ùå Order submission error:', error);
                showNotification(`‚ùå Erreur lors de l'envoi: ${error.message}`, 'error');
            } finally {
                const submitBtn = e.target.querySelector('button[type="submit"]');
                submitBtn.innerHTML = '<i class="fas fa-paper-plane mr-2"></i>Confirmer';
                submitBtn.disabled = false;
            }
        }

        // Show loading state
        function showProductsLoading() {
            document.getElementById('products-loading').classList.remove('hidden');
            document.getElementById('products-grid').classList.add('hidden');
            document.getElementById('no-products').classList.add('hidden');
        }

        // Show no products state
        function showNoProducts() {
            document.getElementById('products-loading').classList.add('hidden');
            document.getElementById('products-grid').classList.add('hidden');
            document.getElementById('no-products').classList.remove('hidden');
        }

        // Show notification
        function showNotification(message, type = 'info') {
            // Remove existing notification
            const existingNotification = document.querySelector('.notification');
            if (existingNotification) {
                existingNotification.remove();
            }
            
            const colors = {
                success: 'bg-green-600',
                error: 'bg-red-600',
                info: 'bg-blue-600',
                warning: 'bg-yellow-600'
            };
            
            const notification = document.createElement('div');
            notification.className = `notification fixed top-20 right-4 ${colors[type]} text-white px-6 py-3 rounded-lg shadow-lg z-50 max-w-sm`;
            notification.innerHTML = message;
            
            document.body.appendChild(notification);
            
            // Auto remove after 5 seconds
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.remove();
                }
            }, 5000);
        }

        console.log('‚úÖ O Store Website Ready!');
    </script>
</body>
</html>
